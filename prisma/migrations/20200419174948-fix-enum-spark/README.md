# Migration `20200419174948-fix-enum-spark`

This migration has been generated by addison staples at 4/19/2020, 5:49:48 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "Spark_new" AS ENUM ('LOSE', 'LIKE', 'LOVE', 'NEED');
ALTER TABLE "public"."Item" ALTER COLUMN "spark" DROP DEFAULT,
                        ALTER COLUMN "spark" TYPE "Spark_new" USING ("spark"::text::"Spark_new"),
                        ALTER COLUMN "spark" SET DEFAULT 'LOSE';
ALTER TYPE "Spark" RENAME TO "Spark_old";
ALTER TYPE "Spark_new" RENAME TO "Spark";
DROP TYPE "Spark_old"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200419161203-add-enum-spark..20200419174948-fix-enum-spark
--- datamodel.dml
+++ datamodel.dml
@@ -1,18 +1,18 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator prisma_client {
   provider = "prisma-client-js"
 }
 enum Spark {
-  lose
-  like
-  love
-  need
+  LOSE
+  LIKE
+  LOVE
+  NEED
 }
 model User {
   id         Int        @default(autoincrement()) @id
@@ -37,9 +37,9 @@
   description   String
   model         String?
   categories    Category[] @relation(references: [id])
   locations     Location[] @relation(references: [id])
-  spark         Spark?     @default(like)
+  spark         Spark?     @default(LIKE)
   count         Int        @default(1)
   monetaryValue Float?
   link          String?
   notes         String?
```


